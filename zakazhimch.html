<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Клининг АБСОЛЮТ</title>
    <link rel="stylesheet" href="zakazhimch.css">
    <link rel="icon" href="лого.png" type="png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Spectral+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Spectral+SC:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Подключаем Slick CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <!-- Подключаем Slick Theme CSS (опционально, если нужна тема оформления) -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

</head>

<body>
   <header>
        <div class="top-header">
            <div class="container">
                <div class="logo">
                   <img src="https://i.postimg.cc/jSTZZfZK/2025-04-29-185430.png" alt="Логотип САГОС коммерческий клининг">
                   <div>
                    <p><b>АБСОЛЮТ</b></p>
                    <p>клининговая компания</p>
                </div>
                </div>
               <div class="contact-info">
    <div>
        <a href="tel:+74993221889" class="phone-number-link">+7 (499) 322-18-89</a>
        <span class="phone-description">ТЕЛЕФОН ДЛЯ СВЯЗИ</span>
    </div>
    
                   
                    <div class="user-icon">
                       <a href="avtoriz.html" class="user-icon-link">  <img src="https://i.postimg.cc/66cTdg56/png-transparent-computer-icons-user-username-avatar-person-skill-1.png" alt="Иконка пользователя" width="30" height="30">
                    </div>
                </div>
            </div>
        </div>

        <nav class="main-nav">
            <div class="container">
                <ul>
                    <li>
                        <a href="">ГЛАВНАЯ <span class="arrow"></span></a>
                        <ul class="dropdown">
                            <li><a href="vseyslygi.html">Услуги</a></li>
                            <li><a href="onas.html">О нас</a></li>
                            <li><a href="oborud.html">Наше оборудование</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="onas.html">О НАС </a>
                      
                    </li>
                  <li class="dropdown-container">
        <a href="#">Услуги <span class="arrow"></span></a>
        <ul class="dropdown multi-column">
            <li class="column">
                <span class="dropdown-header">Уборка квартир</span>
                <div class="items-container">
                   <a href="yslygi.html">Поддерживающая</a>  
                   <a href="complexc.html">Комплексная</a>
                    <a href="gener.html">Генеральная</a>
                    <a href="sroch.html">Срочная</a>
                    <a href="remont.html">После ремонта</a>
                    <a href="zasel.html">Перед заселением</a>
                    <a href="zapysh.html">Запущенных квартир</a>
                </div>
            </li>
            <li class="column">
                <span class="dropdown-header">Уборка домов</span>
                <div class="items-container">
                    <a href="cottage.html">Коттеджей</a>
                    <a href="dachi.html">Дачи</a>
                  
                </div>
            </li>
            <li class="column">
                <span class="dropdown-header">Уборка офисов</span>
                <div class="items-container">
                   <a href="standyb.html">Поддерживающая</a>             
                    <a href="genof.html">Генеральная</a>
                    <a href="dezinf.html">Дезинфекция</a>
                    <a href="postosn.html">На постоянной основе</a>
                    <a href="okno.html">Мытье окон в офисе</a>
                   <a href="vlashn.html">Влажная уборка</a>
                   
                </div>
            </li>
            <li class="column">
                <span class="dropdown-header">Уборка помещений</span>
                <div class="items-container">
                    <a href="sanat.html">Санаториев</a>
                    <a href="ybmed.html">Медицинских учреждений</a>
                </div>
            </li>
        </ul>
    </li>
                  <li class="dropdown-container">
        <a href="#">Химчистка <span class="arrow"></span></a>
        <ul class="dropdown ">
            <li class="column">
               
                <div class="items-container">
                   <a href="himcovr.html">Ковролин</a>  
                   <a href="cover.html">Ковер</a>
                    <a href="mm.html">Мягкая мебель</a>
                    <a href="cm.html">Кожанная мебель</a>
                    <a href="rychrab.html">Ковры ручной работы</a>
                    <a href="sintcovr.html">Синтетические ковры</a>
                </div>
            </li>
             
        </ul>
    </li>
                
                    <li>
                        <a href="#">ЦЕНА <span class="arrow"></span></a>
                        <ul class="dropdown">
                            <li><a href="cena.html">Прайс-лист</a></li>
                            <li><a href="calculator.html">Калькулятор</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">СПОСОБЫ ОПЛАТЫ </a>
                       
                    </li>
                    <li>
                        <a href="contact.html">КОНТАКТЫ </a>
    
                    </li>
                  <li>
                       <!-- SEARCH ICON -->
                       <a href="#" class="search-icon">
                           <img src="https://i.postimg.cc/8k0vHrmR/icons8-50.png"
                                alt="Поиск" width="20" height="20">
                       </a>
                       <!-- SEARCH BOX (Initially hidden) -->
                       <div class="search-box">
                           <input type="text" class="search-input" placeholder="Поиск...">
                           <span class="search-close">&times;</span>
                           <p class="search-instructions">Нажмите ввод для поиска или esc чтобы закрыть</p>
                           <div class="search-results"></div>
                       </div>
                    </li>
                </ul>
              
            </div>
        </nav>
          
    </header>

    <div class="container">
        <h1>Оформление заказа химчистки</h1>

        <!-- Индикатор шагов (Возвращаем его обратно) -->
        <div class="step-indicator-container">
            <div class="step active">
                <span class="step-number">1</span>
                <span class="step-text">Параметры</span>
            </div>
            <div class="step">
                <span class="step-number">2</span>
                <span class="step-text">Контактные данные</span>
            </div>
            <div class="step">
                <span class="step-number">3</span>
                <span class="step-text">Оплата</span>
            </div>
        </div>

        <div class="order-form-container">
            <div class="order-form-left">
                <!-- Выбор материала -->
                <label for="material">Выберите материал:</label>
                <select id="material" name="material" required>
                    <option value="" disabled selected>Выберите материал</option>
                    <option value="ковролин">Ковролин</option>
                    <option value="ковер">Ковер</option>
                       <option value="мягкая_мебель">Мягкая мебель</option>
                     <option value="Кожанная_Мебель">Кожанная мебель</option>
                      <option value="ковер_ручной_работы">Ручная работа(ковер)</option>
                       <option value="синтетический_ковер">Синтетический ковер</option>
                 
                </select>

                <!-- Ввод площади -->
                <label for="area">Площадь (м²):</label>
                <input type="number" id="area" name="area" placeholder="Введите площадь" required>
                <div class="error-message" id="areaError"></div>

                <!-- Выбор даты -->
                <label for="cleaning-date">Дата:</label>
                <input type="date" id="cleaning-date" name="cleaning-date" required>

                <!-- Выбор времени -->
                <label>Время:</label>
                <div class="time-options">
                    <label>
                        <input type="radio" name="cleaning-time" value="09:00">
                        <span>09:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="10:00">
                        <span>10:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="11:00">
                        <span>11:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="12:00">
                        <span>12:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="13:00">
                        <span>13:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="14:00">
                        <span>14:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="15:00">
                        <span>15:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="16:00">
                        <span>16:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="17:00">
                        <span>17:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="18:00">
                        <span>18:00</span>
                    </label>
                    <label>
                        <input type="radio" name="cleaning-time" value="19:00">
                        <span>19:00</span>
                    </label>
                </div>

                <!-- Переодичность Уборки (Buttons) -->
                <div class="periodicity-options">
                    <p>Периодичность уборки</p>
                    <button class="periodicity-button" data-period="razovaya">Один раз</button>
                    <button class="periodicity-button" data-period="ezhenedelnaya">Каждую неделю</button>
                    <button class="periodicity-button" data-period="2_raza_v_nedelyu">Каждые две недели</button>
                </div>

                <!-- Комментарий к заказу -->
                <div class="comment-section">
                    <label for="order-comment">Комментарий к заказу:</label>
                    <textarea id="order-comment" name="order-comment" rows="4" cols="50"></textarea>
                </div>

                <div class="error-message" id="timeError"></div>
            </div>

            <!-- Правая часть (Ваш заказ) (Удаляем) -->
            <div class="order-summary">
                <h3>Ваш заказ</h3>
                <div class="summary-item">
                    <span class="summary-label">Тип материала:</span>
                    <span class="summary-value" id="material-info">Не выбран</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Площадь:</span>
                    <span class="summary-value" id="area-info">0 м²</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Дата:</span>
                    <span class="summary-value" id="date-info">Не выбрана</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Время:</span>
                    <span class="summary-value" id="time-info">Не выбрано</span>
                </div>
                 <div class="summary-item">
                    <span class="summary-label">Периодичность:</span>
                    <span class="summary-value" id="periodicity-info">Не выбрана</span>
                </div>
                 <div class="summary-item">
                    <span class="summary-label">Комментарий:</span>
                    <span class="summary-value" id="comment-info"></span>
                </div>
                <hr>
                <div class="summary-item">
                    <span class="summary-label">Стоимость химчистки:</span>
                    <span class="summary-value" id="cleaning-cost">Рассчитывается</span>
                </div>
                <div class="summary-item total-price">
                    <span class="summary-label">К оплате:</span>
                    <span class="summary-value" id="total-cost">Рассчитывается</span>
                </div>
                <div class="button-container">
                    <button class="next-button" id="nextButton">Далее</button>
                </div>
            </div>
        </div>
    </div>

     <script>
        document.addEventListener('DOMContentLoaded', () => {
            const nextButton = document.getElementById('nextButton');
            const areaInput = document.getElementById('area');
            const areaError = document.getElementById('areaError');
            const materialSelect = document.getElementById('material');
            const dateInput = document.getElementById('cleaning-date');
            const timeOptions = document.querySelectorAll('input[name="cleaning-time"]');
            const timeError = document.getElementById('timeError');
             const periodicityButtons = document.querySelectorAll('.periodicity-button');
            const commentInput = document.getElementById('order-comment');

            const materialInfo = document.getElementById('material-info');
            const areaInfo = document.getElementById('area-info');
            const dateInfo = document.getElementById('date-info');
            const timeInfo = document.getElementById('time-info');
            const commentInfo = document.getElementById('comment-info');
             const periodicityInfo = document.getElementById('periodicity-info');
            const cleaningCostElement = document.getElementById('cleaning-cost');
            const totalCostElement = document.getElementById('total-cost');

            function formatDate(date) {
                if (!date) return '';
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const year = date.getFullYear();
                return `${day}.${month}.${year}`;
            }

            function calculateCost() {
                const selectedMaterial = materialSelect.value;
                let area = parseFloat(areaInput.value);
                if (isNaN(area) || area <= 0) {
                    return 0;
                }

                let cost = 0;
                if (selectedMaterial === 'ковролин') {
                    cost = area * 200;
                } else if (selectedMaterial === 'ковер') {
                    cost = area * 190;
                } else if (selectedMaterial === 'мягкая_мебель') {
                    cost = area * 210;
                } else if (selectedMaterial === 'ковер_ручной_работы') {
                    cost = area * 215;
                } else if (selectedMaterial === 'синтетический_ковер') {
                    cost = area * 190;
                }
                 else if (selectedMaterial === 'Кожанная_Мебель') {
                         cost = area * 220;
                 }
                return cost;
            }

           function updateOrderSummary() {
                const selectedMaterial = materialSelect.value || 'Не выбран';
                let area = areaInput.value ? parseFloat(areaInput.value) : 0;
                const cleaningDate = dateInput.value ? formatDate(new Date(dateInput.value)) : 'Не выбрана';
                let selectedTime = '';
                timeOptions.forEach(option => {
                    if (option.checked) {
                        selectedTime = option.value;
                    }
                });
                const commentText = commentInput.value;
                const periodicity = document.querySelector('.periodicity-button.active')?.dataset.period || 'Не выбрана';

                materialInfo.textContent = selectedMaterial;
                areaInfo.textContent = area > 0 ? `${area} м²` : '0 м²';
                dateInfo.textContent = cleaningDate ? formatDate(new Date(dateInput.value)) : 'Не выбрана';
                timeInfo.textContent = selectedTime ? selectedTime : 'Не выбрано';
                  periodicityInfo.textContent = periodicity; //display Periodicity
                commentInfo.textContent = commentText;

                let cost = 0;

                if (area < 0) {
                    cost = 0;
                } else {
                    if (selectedMaterial === 'ковролин') {
                        cost = area * 200;
                    } else if (selectedMaterial === 'ковер') {
                        cost = area * 190;
                    } else if (selectedMaterial === 'мягкая_мебель') {
                        cost = area * 210;
                    } else if (selectedMaterial === 'ковер_ручной_работы') {
                        cost = area * 215;
                    } else if (selectedMaterial === 'синтетический_ковер') {
                        cost = area * 190;
                    }
                     else if (selectedMaterial === 'Кожанная_Мебель') {
                         cost = area * 220;
                 }
                  else{
                        cost= 0;
                     }
                }
                cleaningCostElement.textContent = cost.toLocaleString('ru-RU') + ' ₽';
                totalCostElement.textContent = cost.toLocaleString('ru-RU') + ' ₽';

                localStorage.setItem('totalCost', cost);
                 localStorage.setItem('material', selectedMaterial);
                localStorage.setItem('area', area);
                localStorage.setItem('cleaningDate', cleaningDate);
                localStorage.setItem('cleaningTime', selectedTime);
                localStorage.setItem('commentText', commentText);
                 localStorage.setItem('periodicity', periodicity);
            }

            function validateForm() {
                let isValid = true;
                const area = areaInput.value;
                const material = materialSelect.value;
                const cleaningDate = dateInput.value;
                let selectedTime = null;
                timeOptions.forEach(option => {
                    if (option.checked) {
                        selectedTime = option.value;
                    }
                });

                if (!area || isNaN(parseFloat(area)) || parseFloat(area) <= 0) {
                    areaError.textContent = "Пожалуйста, введите корректную площадь (число больше 0).";
                    isValid = false;
                } else {
                    areaError.textContent = "";
                }

                if (!material) {
                    alert("Пожалуйста, выберите материал.");
                    isValid = false;
                }
                if (!cleaningDate) {
                    alert("Пожалуйста, выберите дату.");
                    isValid = false;
                }

                if (!selectedTime) {
                    timeError.textContent = "Пожалуйста, выберите время.";
                    isValid = false;
                } else {
                    timeError.textContent = "";
                }

                return isValid;
            }
periodicityButtons.forEach(button => {
                button.addEventListener('click', function() {
                    periodicityButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    updateOrderSummary();
                });
            });

            // Обработчики событий
            materialSelect.addEventListener('change', updateOrderSummary);
            areaInput.addEventListener('input', updateOrderSummary);
            dateInput.addEventListener('change', updateOrderSummary);
            timeOptions.forEach(option => {
                option.addEventListener('change', updateOrderSummary);
            });
            commentInput.addEventListener('input', updateOrderSummary);

            // Инициализация (расчет стоимости при загрузке)
            updateOrderSummary();

            nextButton.addEventListener('click', () => {
                if (validateForm()) {
                    const area = areaInput.value;
                    const material = materialSelect.value;
                    const cleaningDate = dateInput.value;
                    let selectedTime = null;
                    timeOptions.forEach(option => {
                        if (option.checked) {
                            selectedTime = option.value;
                        }
                    });
                        const periodicity = document.querySelector('.periodicity-button.active')?.dataset.period;
                        const commentText = commentInput.value;

                    localStorage.setItem('material', material);
                    localStorage.setItem('area', area);
                    localStorage.setItem('cleaningDate', cleaningDate);
                    localStorage.setItem('cleaningTime', selectedTime);
                     localStorage.setItem('commentText', commentText || '');
                      localStorage.setItem('periodicity', periodicity || '');

                    window.location.href = 'zakazhimchcont.html';
                }
            });
        });
    </script>
    <script>
        const searchIcon = document.querySelector('.main-nav .search-icon');
        const searchBox = document.querySelector('.main-nav .search-box');
        const searchInput = document.querySelector('.main-nav .search-input');
        const searchResultsContainer = document.createElement('div'); // Контейнер для результатов
        searchResultsContainer.classList.add('search-results');  // Добавляем класс для стилизации
        searchBox.appendChild(searchResultsContainer); // Добавляем контейнер в search-box
        const searchClose = document.querySelector('.search-close'); //  Крестик закрытия

        searchIcon.addEventListener('click', (event) => {
            event.preventDefault();
            searchBox.classList.toggle('active');
            if (searchBox.classList.contains('active')) {
                searchInput.focus();
            }
            // Очищаем предыдущие результаты при открытии поиска
            searchResultsContainer.innerHTML = '';
        });

         // Закрытие по клику на крестик
        if (searchClose) {  // Проверка, что элемент найден
            searchClose.addEventListener('click', () => {
                searchBox.classList.remove('active');
                searchInput.value = '';  // Очищаем поле поиска
                searchResultsContainer.innerHTML = ''; // Очищаем результаты
            });
        }
        // Закрытие по нажатию Esc
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                searchBox.classList.remove('active');
                searchInput.value = '';
                searchResultsContainer.innerHTML = '';
            }
        });
        function performSearch() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            if (!searchTerm) {
                searchResultsContainer.innerHTML = ''; // Очищаем результаты, если поле поиска пустое
                return;
            }
            searchResultsContainer.innerHTML = ''; // Очищаем предыдущие результаты

            // Создаем массив для хранения результатов
            const searchResults = [];

            // Перебираем все ссылки в навигации (для примера)
            document.querySelectorAll('.main-nav a').forEach(link => {
                if (link.textContent.toLowerCase().includes(searchTerm)) {
                    searchResults.push({
                        text: link.textContent,
                        url: link.href
                    });
                }
            });
           // Добавим поиск по тексту в основном контенте (пример)
            document.querySelectorAll('h3, p, .btn-details').forEach(element => {
                if (element.textContent.toLowerCase().includes(searchTerm)) {
                    // Получаем ближайший родительский элемент с ссылкой (если есть)
                    let parentLink = element.closest('a');
                    let url = parentLink ? parentLink.href : '#'; // Используем href ссылки или '#'
                    let text = element.textContent.trim();

                    searchResults.push({
                        text: text,
                        url: url
                    });
                }
            });
            // Выводим результаты
            if (searchResults.length > 0) {
                searchResults.forEach(result => {
                    const resultElement = document.createElement('div');
                    resultElement.classList.add('search-result-item');  // Добавляем класс для стилизации
                    const linkElement = document.createElement('a');
                    linkElement.href = result.url;
                    linkElement.textContent = result.text;
                    linkElement.target = '_blank'; // Открываем в новой вкладке
                    resultElement.appendChild(linkElement);
                    searchResultsContainer.appendChild(resultElement);
                });
            } else {
                const noResultsElement = document.createElement('div');
                noResultsElement.textContent = 'Ничего не найдено.';
                searchResultsContainer.appendChild(noResultsElement);
            }
        }

        searchInput.addEventListener('input', performSearch); // Поиск при вводе
        searchInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                event.preventDefault();
                performSearch();
            }
        });
    </script>
</body>

</html>